<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>nGIF</title>
    <script src="./controls.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <header id="titlebar">
        <div class="opts">
            <label class="blastp upld btns" id="blastp" for="upld">Open File</label>
            <input type="file" id="upld" >
            <!-- <input type="file" id="upld" accept=".png, .jpg, .gif, .webp |image/*"> -->
            <!-- <button class="NewWin" id="newWin">New Window</button> -->
            <button class="infv btns lastp" id="infv">Version</button>
            <div class="button close-buttonv" id="closeVer"></div>
        </div>
        <div id="drag-region">

            <div id="window-title">
                <span>nGIF</span>
            </div>

            <div id="window-controls">

                <div class="button" id="min-button">
                    <img class="icon" srcset="icons/min-w-10.png 1x, icons/min-w-12.png 1.25x, icons/min-w-15.png 1.5x, icons/min-w-15.png 1.75x, icons/min-w-20.png 2x, icons/min-w-20.png 2.25x, icons/min-w-24.png 2.5x, icons/min-w-30.png 3x, icons/min-w-30.png 3.5x" draggable="false" />
                </div>
                <div class="button" id="max-button">
                    <img class="icon" id="mxr" srcset="icons/max-w-10.png 1x, icons/max-w-12.png 1.25x, icons/max-w-15.png 1.5x, icons/max-w-15.png 1.75x, icons/max-w-20.png 2x, icons/max-w-20.png 2.25x, icons/max-w-24.png 2.5x, icons/max-w-30.png 3x, icons/max-w-30.png 3.5x" draggable="false" />
                </div>
                <!-- <div class="button" id="restore-button">
                    <img class="icon" srcset="icons/restore-w-10.png 1x, icons/restore-w-12.png 1.25x, icons/restore-w-15.png 1.5x, icons/restore-w-15.png 1.75x, icons/restore-w-20.png 2x, icons/restore-w-20.png 2.25x, icons/restore-w-24.png 2.5x, icons/restore-w-30.png 3x, icons/restore-w-30.png 3.5x" draggable="false" />
                </div> -->
                <div class="button close-button" id="close-button">
                    <img class="icon" srcset="icons/close-w-10.png 1x, icons/close-w-12.png 1.25x, icons/close-w-15.png 1.5x, icons/close-w-15.png 1.75x, icons/close-w-20.png 2x, icons/close-w-20.png 2.25x, icons/close-w-24.png 2.5x, icons/close-w-30.png 3x, icons/close-w-30.png 3.5x" draggable="false" />
                </div>
                <link rel="shortcut icon" href="./icon.ico" type="image/x-icon">
            </div>
        </div>
    </header>

    <div id="main">
        <!-- <p>Current theme source: <strong id="theme-source">System</strong></p>

        <button id="toggle-dark-mode">Toggle Dark Mode</button>
        <button id="reset-to-system">Reset to System Theme</button> -->
        <div class="img drop-zone" id="imgCon">
            <span class="dgt" id="dgt">Drag or drop an image here</span>
            <img id="previ" class="drop-zone__input show">
            <video id="prevV"></video>
        </div>
        <a class="hdi" id="hideimg">Hide</a>
        <!-- <div class="drop-zone">
            
            <img type="file" class="drop-zone__input">
        </div> -->
    </div>

    <script>
        const inp = document.getElementById("upld");
        let dragZT = document.getElementById("dgt");
        let hdi = document.getElementById("hideimg");
        let i = document.getElementById("previ");
        inp.addEventListener('change', p);

        hdi.addEventListener("click", eeet => {
                    if(i.classList.contains("show")) {
                        i.classList.add("hide");
                        i.classList.remove("show");
                        // i.style.display = "none !important";
                    } else if(i.classList.contains("hide")) {
                        i.classList.remove("hide");
                        i.classList.add("show");
                        // i.style.display = "block !important";
                    }
                });

        function p() {
            const o = this.files[0];
            const r = new FileReader();
            r.readAsDataURL(o);
            r.onload = function() {
                const t = r.result;
                dragZT.style.display = "none";
                i.style.display = "block";
                i.setAttribute('src', t);
                i.classList.add("show");
                hdi.style.display = "block";
            }
        }
        // You can also require other files to run in this process
        require('./renderer.js')
        // require("./theme.js")
    </script>
    <script src="./drag.js"></script>
</body>

</html>